{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\ui/assets\\scripts\\ui\\head_info.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\ui","sourcesContent":["import dispatcher from \"../logic/dispatcher\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/typescript/index.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/reference/attributes/index.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://www.cocos.com/docs/creator/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/editors_and_tools/creator-chapters/scripting/life-cycle-callbacks/index.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\nimport dispatcher from \"./../logic/dispatcher\"\r\nimport {EventType} from \"./../logic/consts\"\r\n\r\n@ccclass\r\nexport default class head_info extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    lvl_label: cc.Label = null;\r\n\r\n    @property(cc.Label)\r\n    time_label: cc.Label = null;\r\n\r\n    @property(Number)\r\n    play_time: number = 0;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        dispatcher.add_dispatch(EventType.EVENT_GAME_OVER_1, this.on_game_over, this)\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    init_head(lvl: number): void {\r\n        this.play_time = 0;\r\n        this.unschedule(this.on_1_minute_timer);\r\n        this.schedule(this.on_1_minute_timer, 1);\r\n        let lvl_desc = ''\r\n        if (lvl == 1) {\r\n            lvl_desc = '入门';\r\n        }\r\n        else if (lvl == 2) {\r\n            lvl_desc = '精英';\r\n        }\r\n        else if (lvl == 3) {\r\n            lvl_desc = '大师';\r\n        }\r\n        else if (lvl == 4) {\r\n            lvl_desc = '史诗';\r\n        }\r\n        else if (lvl == 5) {\r\n            lvl_desc = '传奇';\r\n        }\r\n\r\n        this.lvl_label.string = '挑战:' + lvl_desc;\r\n        this.time_label.string = '00:00';\r\n    },\r\n\r\n    on_1_minute_timer(): void {\r\n        this.play_time += 1;\r\n        let minute = Math.floor(this.play_time / 60);\r\n        let second = this.play_time % 60;\r\n        if (minute < 10) {\r\n            if (second < 10) {\r\n                this.time_label.string = '0' + minute + ':0' + second;\r\n            }\r\n            else{\r\n                this.time_label.string = '0' + minute + ':' + second;\r\n            }\r\n        }\r\n        else {\r\n            if (second < 10) {\r\n                this.time_label.string = '' + minute + ':0' + second;\r\n            }\r\n            else{\r\n                this.time_label.string = '' + minute + ':' + second;\r\n            }\r\n        }\r\n    },\r\n\r\n    on_click_bomb_btn(): void {\r\n        dispatcher.dispatch(EventType.EVENT_CLICK_BOMB_BTN);\r\n    }\r\n\r\n    on_game_over(result: boolean, lvl: number) {\r\n        dispatcher.dispatch(EventType.EVENT_GAME_OVER_2, result, lvl, this.play_time);\r\n    }\r\n}\r\n"]}